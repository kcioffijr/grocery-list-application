(()=>{const e=document.getElementById("items"),t=document.getElementById("add-item"),n=document.getElementById("add-item-btn"),o=document.getElementById("clear-all"),l=document.getElementById("search");function i(e){let t=r("li");return s(t,"item"),t.appendChild(document.createTextNode(e)),t.appendChild(function(){let e=r("span");return s(e,"remove-item","fa-solid","fa-x"),e.setAttribute("id","x"),e}()),t}function r(e){return document.createElement(e)}function s(e,...t){!e instanceof HTMLElement?console.error("Invalid element provided."):(t.forEach((e=>{"string"==typeof e||console.error("Class names need to be strings.")})),e.classList.add(...t))}function a(){let e=document.querySelectorAll("li"),t=document.getElementById("input-section");0===e.length?(l.style.display="none",o.style.display="none",t.style.borderBottom="none"):e.length>=10?l.style.display="flex":(l.style.display="none",o.style.display="inline-block",t.style.borderBottom="1px solid #ccc")}function d(){const e=localStorage.getItem("groceries");return e&&e.length>0?e:JSON.stringify([])}addEventListener("DOMContentLoaded",(function(){let t=JSON.parse(d());t.length>0&&t.forEach((t=>e.appendChild(i(t))))})),n.addEventListener("click",(function(){""!==t.value?(e.appendChild(i(t.value)),function(e){let t=JSON.parse(d());null!==e&&""!==e&&(t.push(e),localStorage.setItem("groceries",JSON.stringify(t)))}(t.value),t.value="",a()):alert("You must type the name of a grocery item to continue.")})),o.addEventListener("click",(function(){if(confirm("You are about to remove all items from your grocery list, continue?")){for(;e.firstChild;)e.removeChild(e.firstChild),localStorage.setItem("groceries",JSON.stringify([]));a()}})),e.addEventListener("click",(function(e){let t=e.target;if(t.classList.contains("remove-item")){const e=t.parentElement;e.remove(),function(e){const t=JSON.parse(d()).filter((t=>t!==e));localStorage.setItem("groceries",JSON.stringify(t))}(e.textContent),a()}})),l.addEventListener("input",(function(e){let t=document.querySelectorAll("li"),n=e.target.value.toLowerCase();t.forEach((e=>{-1!==e.textContent.toLowerCase().indexOf(n)?e.style.display="flex":e.style.display="none"}))})),addEventListener("DOMContentLoaded",a)})();